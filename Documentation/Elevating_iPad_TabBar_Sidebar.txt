Elevating Your iPad App with a Tab Bar and Sidebar
=================================================

Provide a compact, ergonomic tab bar for quick access to key parts of your app, and a sidebar for in-depth navigation.

Overview
--------
In iPadOS, the tab bar floats over your content at the top, giving you more space for your app’s content. Because the tab bar shares space with the navigation bar, it places your tabs closer to your app’s other controls.

SwiftUI Equivalent
------------------
For information about adopting this tab bar appearance in SwiftUI, read "Enhancing your app’s content with tab navigation".

Create a UITabBarController
---------------------------
Create a UITabBarController and assign an array of UITab objects to its tabs property.

Each tab is created using:

    UITab(title:image:identifier:viewControllerProvider:)

In the closure, return the view controller your app presents when someone selects the tab.

If you use SF Symbols, select the outline variant. The system automatically switches between outline and filled as needed.

You can update a tab’s title or image at runtime, and the system updates its appearance automatically.

Add a Search Tab
----------------
To add a search tab, create a UISearchTab instance and add it to the tabs array.

UISearchTab automatically separates the search tab from other tabs when the tab bar is compact.

Tab Bar Behavior and Limits
---------------------------
The iPad tab bar supports an unlimited number of items. If there isn’t enough room, the system collapses excess tabs and allows scrolling. However, it’s best to limit the tabs to those that fit onscreen, ensuring one-tap access to key sections.

Tab Bar vs Sidebar
------------------
Both tab bars and sidebars provide navigation, but they have different strengths:
- A tab bar is always available and ideal for key areas of your app.
- A sidebar provides deeper, hierarchical navigation but often requires returning to change sections.

You can combine both: an array of tabs with tab groups can display as either a tab bar or sidebar depending on context.

Creating Tab and Sidebar Hierarchies
------------------------------------
Use UITab and UITabGroup classes.

- If the tabs array includes a UITabGroup, the system can show both tab bar and sidebar.
- Otherwise, only the tab bar is displayed.
- You can explicitly set this via the controller’s mode property.

By default:
- Sidebar shows in landscape and hides in portrait.
- Users can toggle between sidebar and tab bar.
- You can programmatically show or hide the sidebar by setting sidebar.isHidden.

UITabGroup
----------
A UITabGroup defines a section in the sidebar. Provide:
- a title
- an image
- an array of child tabs
- a view controller for the section itself

The tab bar shows the group as one item; the sidebar shows it as a collapsible section. You can nest groups, but limit nesting to two or three layers for clarity. Modify children at runtime to update content dynamically.

Sidebar Actions
---------------
You can add actions (like buttons) to the sidebar by setting a group’s sidebarActions property.

Example:

    let refreshAction = UIAction(title: "Refresh", image: UIImage(systemName: "arrow.clockwise")) { _ in
        myAction()
    }

    sectionOne.sidebarActions = [refreshAction]

Sidebar and Tab Customization
-----------------------------
People can edit the layout interactively:
- Drag items between sidebar and tab bar
- Reorder or hide items
- Remove items by dragging out

System changes are persisted automatically. You can receive delegate callbacks when visibility or order changes:
- tabBarController(_:displayOrderDidChangeFor:)
- tabBarController(_:visibilityDidChangeFor:)

Placement Options
-----------------
Use the preferredPlacement property of UITab to define where it appears:

- Fixed tabs: leading edge of the tab bar, immovable
- Default/movable tabs: appear after fixed tabs
- Pinned tabs: trailing edge, icon only (good for things like Search)

To create an item that appears only in the sidebar:

    tab.preferredPlacement = .sidebarOnly

To make a tab removable:

    tab.allowsHiding = true

Groups can allow reordering:

    group.allowsReordering = true

You can also set custom ordering using displayOrderIdentifiers.

Persistence Behavior
--------------------
When users customize the tab bar or sidebar:
- The system saves isHidden and displayOrderIdentifiers.
- These values apply automatically at next launch.
- If you set values before adding tabs, user customizations override them.
- If you set values after adding tabs, your values override customizations.

Platform Behavior
-----------------
The UITab API works on all UIKit platforms.

Appearance differs by platform:
- iPad: tab bar on top, sidebar on leading edge
- iPhone / tvOS / compact iPad: standard bottom tab bar
- Mac Catalyst: mode = .tabBar shows tab bar, mode = .tabSidebar shows sidebar
- visionOS: regular tabs, but groups may display a sidebar

Example Code
------------
Create a Tab Bar:

    let tabBarController = UITabBarController()

    tabBarController.tabs = [
        UITab(title: "First",
              image: UIImage(systemName: "1.circle"),
              identifier: "First Tab") { _ in MyFirstViewController() },

        UITab(title: "Second",
              image: UIImage(systemName: "2.circle"),
              identifier: "Second Tab") { _ in MySecondViewController() },

        UITab(title: "Third",
              image: UIImage(systemName: "3.circle"),
              identifier: "Third Tab") { _ in MyThirdViewController() }
    ]

Add a Search Tab:

    UISearchTab { _ in
        UINavigationController(rootViewController: MySearchViewController())
    }

Integrate Tab Bar and Sidebar:

    tabBarController.mode = .tabSidebar
    let sidebar = tabBarController.sidebar
    sidebar.isHidden = false

Build Sidebar Hierarchy:

    let sectionOne = UITabGroup(
        title: "Section 1",
        image: UIImage(systemName: "1.square.fill"),
        identifier: "Section one",
        children: [
            UITab(title: "Subitem A", image: UIImage(systemName: "a.circle"), identifier: "Section 1A") { _ in MyFirstSubitemTabViewController() },
            UITab(title: "Subitem B", image: UIImage(systemName: "b.circle"), identifier: "Section 1B") { _ in MySecondSubitemTabViewController() },
            UITab(title: "Subitem C", image: UIImage(systemName: "c.circle"), identifier: "Section 1C") { _ in MyThirdSubitemTabViewController() }
        ]
    ) { _ in
        MySectionViewController()
    }

Enable Customization:

    var customizableItem = UITab(
        title: "Optional",
        image: UIImage(systemName: "questionmark.app"),
        identifier: "Optional Item"
    ) { _ in
        MyOptionalViewController()
    }

    customizableItem.allowsHiding = true
    customizableItem.isHiddenByDefault = true
    sectionOne.allowsReordering = true

Summary
-------
This API unifies tab bar and sidebar navigation for iPad apps, making it easy to toggle between compact and hierarchical navigation within the same structure. It provides built-in customization, persistence, and multi-platform behavior for UIKit apps on iPad, Mac Catalyst, and beyond.
